---
phase: 42-visual-polish
plan: 03
type: execute
wave: 2
depends_on:
  - 42-01
files_modified:
  - src/components/dashboard/workshop-card.tsx
  - src/components/dashboard/completed-workshop-card.tsx
  - src/components/workshop/step-navigation.tsx
  - src/components/layout/workshop-sidebar.tsx
  - src/components/workshop/deliverable-card.tsx
  - src/components/workshop/chat-panel.tsx
  - src/components/workshop/step-container.tsx
  - src/app/globals.css
  - src/app/layout.tsx
autonomous: true
requirements:
  - VISL-03
  - VISL-05
  - VISL-06

must_haves:
  truths:
    - "Workshop cards lift with increased shadow on hover"
    - "Buttons show background color shift with slight translateY(-1px) lift on hover"
    - "Creating a workshop shows a success toast"
    - "Deleting a workshop shows a success toast"
    - "Renaming a workshop shows a success toast"
    - "Error states produce error toasts"
    - "All toasts auto-dismiss in 3-5 seconds"
    - "Toasts use olive system colors for success and muted red for errors"
    - "Step sidebar items show a hover state matching the olive design language"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Sonner toast olive theming CSS variables"
      contains: "sonner"
    - path: "src/components/dashboard/workshop-card.tsx"
      provides: "Workshop card with lift + shadow hover micro-interaction"
      contains: "translateY"
    - path: "src/components/workshop/step-navigation.tsx"
      provides: "Toast feedback on navigation actions"
      contains: "toast"
  key_links:
    - from: "src/components/dashboard/workshop-card.tsx"
      to: "micro-interaction system"
      via: "hover:translateY(-1px) hover:shadow-lg"
      pattern: "translate"
    - from: "src/app/globals.css"
      to: "sonner toaster"
      via: "CSS custom properties for olive-themed toasts"
      pattern: "sonner"
    - from: "src/components/workshop/step-container.tsx"
      to: "sonner"
      via: "toast calls for user actions"
      pattern: "toast\\("
---

<objective>
Implement consistent hover/active states, toast notifications, and micro-interactions

Purpose: Make every interactive element respond to user actions with consistent visual feedback. Users should feel the app is responsive and intentional through subtle hover states, tactile button presses, and comprehensive toast notifications.

Output: All buttons, cards, and links have olive-consistent hover/active states. All user actions produce toast feedback. Micro-interactions feel subtle and professional (per user decision: barely-there, understated).
</objective>

<execution_context>
@/Users/michaelchristie/.claude/get-shit-done/workflows/execute-plan.md
@/Users/michaelchristie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/42-visual-polish/42-01-SUMMARY.md
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add hover/active micro-interactions to cards, buttons, and sidebar</name>
  <files>
    src/components/dashboard/workshop-card.tsx
    src/components/dashboard/completed-workshop-card.tsx
    src/components/workshop/deliverable-card.tsx
    src/components/layout/workshop-sidebar.tsx
    src/app/globals.css
  </files>
  <action>
**Per user decisions:**
- Buttons: background color shift + slight lift (translateY(-1px) with shadow)
- Workshop cards: lift with increased shadow on hover
- Overall intensity: subtle, barely-there, professional
- Animation speed: 150-200ms

**Workshop Cards (`workshop-card.tsx` and `completed-workshop-card.tsx`):**
Add to the Card wrapper className: `transition-all duration-150 hover:-translate-y-0.5 hover:shadow-lg`
The card already has `hover:shadow-md` — upgrade to `hover:shadow-lg` and add the lift. Remove the existing `hover:shadow-md` to avoid conflict. Keep `transition-all` to cover both transform and shadow.

**Deliverable Card (`deliverable-card.tsx`):**
Add similar hover lift: `transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md`
This is a card displaying Build Pack deliverables — subtle lift makes it feel interactive.

**Step Sidebar (`workshop-sidebar.tsx`):**
Find the step list items and add olive hover states:
- For incomplete/available steps: `hover:bg-olive-100 dark:hover:bg-olive-900/30` with `transition-colors duration-150`
- For the active step: Ensure it already has a distinct `bg-accent` or `bg-olive-100` background (check existing implementation)
- For completed steps: Similar subtle hover `hover:bg-olive-50 dark:hover:bg-olive-900/20`

**Global button micro-interaction (globals.css):**
Add a utility class that can be applied to primary action buttons for the lift effect. Create a CSS class:
```css
.btn-lift {
  transition: transform 150ms ease-out, box-shadow 150ms ease-out;
}
.btn-lift:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
.btn-lift:active {
  transform: translateY(0);
  box-shadow: none;
}
```
This class can be added to key CTA buttons (Start Workshop, Continue, etc.) without modifying every button component. Apply it to the main CTA buttons in `workshop-card.tsx` (the Continue button) and `completed-workshop-card.tsx` (the View button).
  </action>
  <verify>
Run: `grep -n 'translate-y\|btn-lift' src/components/dashboard/workshop-card.tsx src/components/dashboard/completed-workshop-card.tsx` — should show lift classes.
Run: `grep -n 'btn-lift' src/app/globals.css` — should show the utility class.
Run: `npm run build` — should complete without errors.
  </verify>
  <done>Workshop cards lift with shadow on hover. CTA buttons lift on hover and settle on active. Step sidebar items show olive hover states. All transitions are 150ms, subtle and professional.</done>
</task>

<task type="auto">
  <name>Task 2: Expand toast notifications to cover all user actions</name>
  <files>
    src/components/workshop/chat-panel.tsx
    src/components/workshop/step-container.tsx
    src/components/workshop/step-navigation.tsx
    src/components/dashboard/workshop-card.tsx
    src/app/globals.css
    src/app/layout.tsx
  </files>
  <action>
**Per user decisions:**
- Position: bottom-right (already configured)
- Success uses olive accent, errors use muted red
- All user actions get toast feedback: create, delete, save, copy, export, errors
- Auto-dismiss: 3-5 seconds, no persistent toasts

**Sonner olive theming (`globals.css`):**
Add CSS custom properties to style Sonner toasts with olive colors. Sonner supports custom theming via CSS variables. Add to the `:root` section:
```css
[data-sonner-toaster] [data-sonner-toast][data-type="success"] {
  --normal-bg: var(--olive-50);
  --normal-border: var(--olive-200);
  --normal-text: var(--olive-900);
}
[data-sonner-toaster] [data-sonner-toast][data-type="error"] {
  --normal-bg: #fef2f2;
  --normal-border: #fecaca;
  --normal-text: #991b1b;
}
```
Alternatively, use the `toastOptions` prop on `<Toaster>` in `layout.tsx` to pass olive-tinted classNames. Check what Sonner v2 supports. The Toaster already has `richColors` — this may already provide green/red differentiation. The goal is to make success toasts olive-tinted rather than the default green.

**If `richColors` overrides custom CSS:** Remove `richColors` from the Toaster and use custom CSS instead. Alternatively, use `toastOptions={{ classNames: { success: '...', error: '...' } }}` on the Toaster component.

**Toast expansion across components:**

In `workshop-card.tsx`: Add `import { toast } from 'sonner'`. Add toast calls:
- After successful rename: `toast.success('Workshop renamed')`
- After rename error: `toast.error('Failed to rename workshop')`

In `step-container.tsx`: Check existing toast usage and expand:
- After successful artifact extraction: `toast.success('Output extracted')`
- After extraction error: `toast.error('Failed to extract output')`
- On copy actions (if any): `toast.success('Copied to clipboard')`

In `chat-panel.tsx`: Add `import { toast } from 'sonner'` if not present. Add toasts for:
- Successful sticky note creation (if triggered by user action): `toast.success('Note added to canvas')`
- Copy message content (if copy action exists): `toast.success('Message copied')`
- Error loading messages: `toast.error('Failed to load messages')`

In `step-navigation.tsx`: Check existing toast usage. Ensure:
- Step completion/advance: `toast.success('Step completed')` (may already exist)
- Navigation errors: `toast.error(...)` (may already exist)

**Toast duration:** Use `{ duration: 4000 }` as the second argument for all toasts (4 seconds, within the 3-5s range).

Do NOT add toasts for:
- Auto-save (too frequent, would be noisy)
- Background data loading (not a user action)
- Canvas node movements (too frequent)
  </action>
  <verify>
Run: `grep -rn 'toast\.' src/components/dashboard/workshop-card.tsx` — should show toast calls.
Run: `grep -rn 'toast\.' src/components/workshop/step-container.tsx` — should show toast calls.
Run: `npm run build` — should complete without errors.
  </verify>
  <done>All user-initiated actions produce toast notifications. Success toasts use olive tint. Error toasts use muted red. All toasts auto-dismiss in ~4 seconds. No persistent toasts.</done>
</task>

<task type="auto">
  <name>Task 3: Add toast feedback to dashboard create and delete actions</name>
  <files>
    src/components/workshop/start-workshop-button.tsx
    src/components/dashboard/workshop-grid.tsx
  </files>
  <action>
**Create workshop toast:**
In `start-workshop-button.tsx` (or wherever the "New Workshop" / "Start Workshop" action lives), add `import { toast } from 'sonner'`. After a successful workshop creation: `toast.success('Workshop created', { duration: 4000 })`. After an error: `toast.error('Failed to create workshop', { duration: 4000 })`.

Check if the new workshop dialog (`src/components/dialogs/new-workshop-dialog.tsx`) handles creation — if so, add toasts there instead.

**Delete workshop toast:**
In `workshop-grid.tsx` (or wherever the delete action lives), add `import { toast } from 'sonner'`. After successful deletion: `toast.success('Workshop deleted', { duration: 4000 })` or `toast.success('{N} workshop(s) deleted', { duration: 4000 })` for bulk delete. After an error: `toast.error('Failed to delete workshop', { duration: 4000 })`.

Check the existing delete flow — it may use a confirmation dialog. The toast should fire AFTER the confirmed deletion completes, not on dialog open.

**Appearance update toast:**
If the workshop appearance picker (`workshop-appearance-picker.tsx`) triggers saves, add a toast: `toast.success('Appearance updated', { duration: 3000 })` — shorter duration since it's a minor action.
  </action>
  <verify>
Run: `grep -rn 'toast\.' src/components/workshop/start-workshop-button.tsx src/components/dashboard/workshop-grid.tsx` — should show toast calls (check actual file that handles creation/deletion).
Run: `npm run build` — should complete without errors.
  </verify>
  <done>Creating a workshop shows a success toast. Deleting a workshop shows a success toast. Errors produce error toasts. All toasts auto-dismiss.</done>
</task>

</tasks>

<verification>
1. `npm run build` — passes
2. Hover over workshop cards — they lift with increased shadow
3. Hover over CTA buttons — they lift slightly
4. Create a workshop — success toast appears bottom-right
5. Delete a workshop — success toast appears bottom-right
6. Rename a workshop — success toast appears
7. All toasts auto-dismiss within 4 seconds
8. Step sidebar items show olive hover states
</verification>

<success_criteria>
- Workshop cards have hover:translateY(-1px) + hover:shadow-lg
- CTA buttons use btn-lift class for tactile feel
- Step sidebar has olive hover states
- All user actions (create, delete, rename, extract, copy) produce toasts
- Success toasts use olive accent, error toasts use muted red
- All toasts auto-dismiss (3-5 seconds)
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/42-visual-polish/42-03-SUMMARY.md`
</output>
