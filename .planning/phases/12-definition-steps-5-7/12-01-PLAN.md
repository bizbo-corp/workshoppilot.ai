---
phase: 12-definition-steps-5-7
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/schemas/step-schemas.ts
  - src/lib/ai/prompts/step-prompts.ts
  - src/lib/ai/prompts/validation-criteria.ts
autonomous: true

must_haves:
  truths:
    - "Step 5 persona schema supports multi-persona flow with motivations, frustrations, and day-in-the-life fields"
    - "Step 6 journey schema has 7 layers per stage (action, goals, barriers, touchpoints, emotions, momentsOfTruth, opportunities) with traffic light emotion values"
    - "Step 7 reframe schema supports 4-part HMW builder (givenThat, persona, immediateGoal, deeperGoal) with multiple HMW statements"
    - "Step 5 AI proactively drafts persona from research and instructs evidence traceability for pains/gains back to Step 4"
    - "Step 6 AI suggests 4-8 journey stages, populates 7 layers, identifies the dip with rationale, and uses traffic light emotions"
    - "Step 7 AI drafts fresh HMW from scratch (not evolution of Step 1), suggests 2-3 options per field, validates traceability to persona pain and journey dip"
    - "All 3 Definition steps have BOUNDARY instructions preventing premature ideation"
  artifacts:
    - path: "src/lib/schemas/step-schemas.ts"
      provides: "Updated Zod schemas for Steps 5-7 matching user decisions"
      contains: "motivations"
    - path: "src/lib/ai/prompts/step-prompts.ts"
      provides: "Enriched domain-expert prompts for Steps 5-7"
      contains: "EVIDENCE TRACEABILITY"
    - path: "src/lib/ai/prompts/validation-criteria.ts"
      provides: "Enhanced validation criteria for Steps 5-7"
      contains: "Traceability"
  key_links:
    - from: "src/lib/schemas/step-schemas.ts"
      to: "src/lib/schemas/index.ts"
      via: "Re-exported through stepSchemaMap for dynamic schema lookup"
      pattern: "personaArtifactSchema"
    - from: "src/lib/ai/prompts/step-prompts.ts"
      to: "src/lib/ai/chat-config.ts"
      via: "getStepSpecificInstructions called by buildStepSystemPrompt"
      pattern: "getStepSpecificInstructions"
    - from: "src/lib/ai/prompts/validation-criteria.ts"
      to: "src/lib/ai/chat-config.ts"
      via: "getValidationCriteria called during Validate arc phase"
      pattern: "getValidationCriteria"
---

<objective>
Update Zod schemas, enrich step prompts, and enhance validation criteria for Steps 5-7 (Persona Development, Journey Mapping, Reframing Challenge) with domain-expert facilitation guidance.

Purpose: Current schemas are functional but don't match user decisions (persona needs motivations/frustrations/day-in-the-life, journey needs 7 layers with traffic light emotions, reframe needs 4-part HMW builder with multiple statements). Current prompts are generic — need evidence traceability, multi-persona guidance, journey layer population with dip identification, and HMW mad-libs builder flow. Same enrichment pattern as Phase 11 did for Steps 1-4.

Output: Updated step-schemas.ts, enriched step-prompts.ts, and enhanced validation-criteria.ts for Steps 5-7.
</objective>

<execution_context>
@/Users/michaelchristie/.claude/get-shit-done/workflows/execute-plan.md
@/Users/michaelchristie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-definition-steps-5-7/12-CONTEXT.md
@.planning/phases/12-definition-steps-5-7/12-RESEARCH.md
@.planning/phases/11-discovery-steps-1-4/11-02-SUMMARY.md
@src/lib/schemas/step-schemas.ts
@src/lib/schemas/index.ts
@src/lib/ai/prompts/step-prompts.ts
@src/lib/ai/prompts/validation-criteria.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Zod schemas for Steps 5-7</name>
  <files>src/lib/schemas/step-schemas.ts</files>
  <action>
Update the existing personaArtifactSchema, journeyMappingArtifactSchema, and reframeArtifactSchema to match user decisions from 12-CONTEXT.md. Do NOT modify Steps 1-4 or 8-10 schemas.

**Step 5: personaArtifactSchema -- Update to:**
Keep existing fields (name, age, role, location, bio, quote, goals, pains, behaviors) and ADD:
```typescript
motivations: z
  .array(z.string())
  .optional()
  .describe('What drives this persona — their motivations for seeking a solution'),
frustrations: z
  .array(z.string())
  .optional()
  .describe('Specific frustrations beyond pain points — daily annoyances and friction'),
dayInTheLife: z
  .string()
  .optional()
  .describe('Brief day-in-the-life scenario showing how the problem manifests in their routine'),
gains: z
  .array(z.string())
  .min(1)
  .max(5)
  .describe('Desired gains, outcomes, or improvements this persona seeks'),
```
Note: The existing schema has `pains` and `goals` but NOT `gains` — add it. The schema already has `pains` — keep it. Also keep `goals` — they serve a different purpose (goals = what they're trying to achieve, gains = desired improvements from Step 4).

Ensure the PersonaArtifact type export is updated.

**Step 6: journeyMappingArtifactSchema -- Update to:**
Replace the existing 3-layer stage structure (actions, thoughts, emotions) with the user-decided 7-layer structure. Each stage should have:
```typescript
stages: z
  .array(
    z.object({
      name: z.string().describe('Stage name or phase of the journey'),
      action: z
        .string()
        .describe('What the user does at this stage — specific actions, not generic'),
      goals: z
        .string()
        .describe('What the user is trying to achieve at this stage'),
      barriers: z
        .string()
        .describe('Friction, obstacles, or pain points experienced at this stage — draw from Step 4 pains'),
      touchpoints: z
        .string()
        .describe('Tools, channels, interfaces, or people involved at this stage'),
      emotions: z
        .enum(['positive', 'neutral', 'negative'])
        .describe('Emotional state at this stage using traffic light system: positive (green), neutral (orange), negative (red)'),
      momentsOfTruth: z
        .string()
        .optional()
        .describe('Critical decision or realization points at this stage'),
      opportunities: z
        .string()
        .optional()
        .describe('Where we could intervene or improve at this stage'),
      isDip: z
        .boolean()
        .optional()
        .default(false)
        .describe('Whether this stage is the critical dip — the lowest emotional point with highest barriers'),
    })
  )
  .min(4)
  .max(8)
  .describe('Stages of the user journey from start to end, each with 7 layers'),
```
Keep `personaName` and `dipSummary` fields. Add `dipRationale`:
```typescript
dipRationale: z
  .string()
  .optional()
  .describe('Why this stage is identified as the dip — which persona pains manifest here and what evidence supports it'),
```
Ensure the JourneyMappingArtifact type export is updated.

**Step 7: reframeArtifactSchema -- Update to:**
Replace current schema to support the 4-part HMW builder with multiple HMW statements:
```typescript
export const reframeArtifactSchema = z.object({
  originalHmw: z
    .string()
    .describe('The original How Might We statement from Step 1 for reference'),
  hmwStatements: z
    .array(
      z.object({
        givenThat: z
          .string()
          .describe('Context/situation field: "Given that [context from journey dip and persona situation]"'),
        persona: z
          .string()
          .describe('Persona field: "How might we help [persona name and defining characteristic]"'),
        immediateGoal: z
          .string()
          .describe('Action field: "do/be/feel/achieve [specific goal addressing the journey dip pain]"'),
        deeperGoal: z
          .string()
          .describe('Outcome field: "So they can [broader emotional/strategic goal from persona gains]"'),
        fullStatement: z
          .string()
          .describe('The complete composed HMW: "Given that [X], how might we help [Y] [Z] so they can [W]?"'),
      })
    )
    .min(1)
    .describe('One or more reframed HMW statements using the 4-part builder'),
  selectedForIdeation: z
    .array(z.number())
    .optional()
    .describe('Indices of HMW statements selected to carry forward into Step 8 ideation'),
  insightsApplied: z
    .array(z.string())
    .min(1)
    .describe('Key insights from research (Steps 3-6) that informed the reframe'),
  evolution: z
    .string()
    .optional()
    .describe('Explanation of how and why the HMW evolved from the original Step 1 challenge'),
});
```
Ensure the ReframeArtifact type export is updated.

IMPORTANT: The stepSchemaMap in src/lib/schemas/index.ts references these schemas by name — since we're modifying existing exports (not renaming), no changes needed to index.ts.
  </action>
  <verify>
- `npx tsc --noEmit` passes
- `npm run build` succeeds
- personaArtifactSchema contains 'motivations', 'frustrations', 'dayInTheLife', 'gains' fields
- journeyMappingArtifactSchema stages contain 7 layers: 'action', 'goals', 'barriers', 'touchpoints', 'emotions', 'momentsOfTruth', 'opportunities'
- journeyMappingArtifactSchema emotions uses enum ['positive', 'neutral', 'negative'] for traffic light
- reframeArtifactSchema contains 'hmwStatements' array with 'givenThat', 'persona', 'immediateGoal', 'deeperGoal', 'fullStatement' fields
- reframeArtifactSchema supports multiple HMW statements and 'selectedForIdeation'
- Steps 1-4 and 8-10 schemas unchanged
  </verify>
  <done>
Zod schemas for Steps 5-7 match user decisions: persona supports multi-persona flow with motivations/frustrations/day-in-the-life, journey has 7 layers with traffic light emotions and dip rationale, reframe supports 4-part HMW builder with multiple statements and ideation selection.
  </done>
</task>

<task type="auto">
  <name>Task 2: Enrich step prompts and validation criteria for Steps 5-7</name>
  <files>src/lib/ai/prompts/step-prompts.ts, src/lib/ai/prompts/validation-criteria.ts</files>
  <action>
Update `getStepSpecificInstructions` for steps 'persona', 'journey-mapping', and 'reframe'. Keep the existing structure (STEP GOAL, DESIGN THINKING PRINCIPLES, GATHERING REQUIREMENTS, PRIOR CONTEXT USAGE) but significantly enrich each section with domain expertise. Do NOT modify Steps 1-4 or 8-10 prompts. Follow Phase 11 Plan 02 pattern.

**Step 5: 'persona' -- Enrich with:**

EVIDENCE TRACEABILITY section (per user decision: research-grounded but flexible):
```
EVIDENCE TRACEABILITY:
For each persona pain and gain, trace back to Step 4 themes/pains/gains:
- Every persona pain should connect to a Step 4 pain point or research theme
- Every persona gain should connect to a Step 4 gain or desired outcome
- AI CAN infer reasonable demographic/lifestyle attributes (age, location) not explicitly researched — these don't need evidence linking
- If a trait can't be traced to research, flag it as "inferred from role/context" (not prohibited, but transparent)

Do NOT generate generic persona traits ("values efficiency", "busy professional"). Ground pains/gains in specific research findings.
```

PROACTIVE DRAFTING section (per user decision: AI drafts everything):
```
PROACTIVE DRAFTING:
You should draft ALL persona fields proactively based on research:
- Name, age, role, location — draft from context clues in research, user adjusts what doesn't fit
- Bio — synthesize from Step 3 research insights and Step 4 themes
- Quote — capture their perspective in their own voice (draw from Step 3 interview quotes)
- Goals, pains, gains — directly from Step 4 pains/gains with evidence
- Motivations — infer from goals and pains (what drives them to seek change)
- Optional fields (frustrations, day-in-the-life) — auto-populate when conversation data exists, skip if insufficient data

Present the draft persona to user for review. Ask specific refinement questions: "Does this name/role feel right for your target user? Anything that doesn't match your understanding?"
```

MULTI-PERSONA GUIDANCE section (per user decision: 1-3 personas):
```
MULTI-PERSONA GUIDANCE:
- Start with one primary persona based on the Core stakeholder with highest research coverage
- After completing first persona, ask: "Does this persona capture your primary user? Or do we need additional personas for other user segments?"
- Maximum 3 personas — if user wants more, explain: "3 personas gives us good coverage while keeping the journey map focused. We can add more personas in later iterations."
- Each additional persona should represent a DISTINCT user segment (different pains, different context), not a variation of the first
- For Step 6 journey mapping, we'll focus on the primary persona only
```

Update GATHERING REQUIREMENTS to include all schema fields: name, role, bio, quote, goals, pains, gains, motivations, behaviors. Optional: age, location, frustrations, dayInTheLife.

Add BOUNDARY: "This step is about SYNTHESIZING research into personas, not jumping to journey mapping or solutions. Stay focused on who the user IS, not what we'll build for them."

Update PRIOR CONTEXT USAGE to specify:
- Reference Step 4 pains and gains HEAVILY — every persona pain/gain should trace back
- Reference Step 3 research findings for behaviors, quotes, and specific examples
- Reference Step 2 stakeholder map to ensure persona represents a key user type (Core category)
- Light referencing style: weave insights naturally, no academic citations or "from Step X" badges

**Step 6: 'journey-mapping' -- Enrich with:**

Replace the generic existing prompt with enriched version. Keep STEP GOAL and DESIGN THINKING PRINCIPLES, then add:

STAGE CREATION section (per user decision: collaborative):
```
STAGE CREATION (COLLABORATIVE):
1. Suggest 4-8 journey stages based on persona context and challenge domain
2. For each stage, explain why it's part of the journey and estimate its emotional tone
3. Ask user to confirm, add, remove, or reorder stages before populating layers
4. After user confirms stages, populate all 7 layers for each stage

Consider journey type based on challenge context:
- Onboarding: Awareness -> Sign-up -> Setup -> First Use -> Habit -> Advocacy
- Purchase: Trigger -> Research -> Evaluate -> Purchase -> Receive -> Use -> Loyalty
- Support: Issue -> Search -> Contact -> Resolution -> Follow-up
- Custom: Domain-specific stages from persona context
```

7-LAYER POPULATION section (per user decision: 7 layers):
```
7-LAYER POPULATION:
For each confirmed stage, populate these layers:
1. ACTION (Step): What does the user DO at this stage? Be specific (not "uses system" but "enters data into Excel spreadsheet")
2. GOALS: What are they trying to ACHIEVE? Draw from persona goals
3. BARRIERS: What FRICTION or OBSTACLES exist? Draw from Step 4 pains — map specific pains to relevant stages
4. TOUCHPOINTS: What TOOLS, CHANNELS, or INTERFACES are involved? Be specific ("Slack notifications, internal dashboard, Excel")
5. EMOTIONS: Traffic light system — positive (green/good), neutral (orange/friction), negative (red/pain). Emotions MUST reflect barriers: high barriers = negative emotion
6. MOMENTS OF TRUTH: Critical decision or realization points ("Realizes data is out of sync", "Decides to escalate")
7. OPPORTUNITIES: Where could we INTERVENE or IMPROVE? Specific intervention points

CRITICAL: Emotions should reflect persona pains from Step 4. If Step 4 identified "manual data entry frustration", stages involving data entry MUST have negative emotion. Do NOT generate flat emotional curves — there MUST be clear variance with at least one red (negative) stage.
```

DIP IDENTIFICATION section (per user decision: AI identifies, user confirms):
```
DIP IDENTIFICATION:
- The dip is the stage with the MOST negative emotion AND highest barriers
- Identify the dip with clear rationale: "Stage X is the dip because [persona pain] manifests here with barriers [specific barriers from Step 4]"
- Ask user to confirm: "I've identified [stage name] as the critical dip because [rationale]. Does this match your understanding, or is there a different stage where the breakdown is more acute?"
- Traffic light colors make the dip visually obvious (red stages)
- The dip drives Step 7 reframing — it must be the REAL pain point, not a mild inconvenience
```

Update GATHERING REQUIREMENTS to include all 7 layers.

Add CONTEXT REFERENCING (per user decision: generic references):
```
CONTEXT REFERENCING:
Use generic references ("the user experiences...", "at this stage, they feel..."), NOT persona name references ("Sarah's journey..."). The journey map should be readable without knowing the persona name, even though it's based on that persona.
```

Add BOUNDARY: "This step is about MAPPING the current experience, not designing the future experience. Journey stages show how things ARE now, not how they should be. Opportunities layer hints at intervention points but does NOT propose solutions — that's Step 8."

Update PRIOR CONTEXT USAGE:
- Reference Persona (Step 5) for behaviors, pains, goals that inform each stage
- Reference Step 4 pains to map as barriers across relevant journey stages
- Reference Challenge (Step 1) to keep journey focused on the HMW problem area
- One journey map for primary persona only (per user decision)

**Step 7: 'reframe' -- Enrich with:**

Replace the generic existing prompt with enriched version matching the 4-part HMW builder.

Update STEP GOAL:
```
STEP GOAL: Craft a focused reframed HMW statement using the 4-part builder, grounded in persona pains and journey dip insights.

IMPORTANT: This is a FRESH REWRITE, not an evolution of Step 1. Draft new HMW from scratch using ALL accumulated research, persona, and journey insights. The original Step 1 HMW was written before research — now you have evidence to write a much more focused challenge statement.
```

4-PART HMW BUILDER section (per user decision):
```
4-PART HMW BUILDER:
Generate 2-3 options per field in chat. User picks from options or writes freeform, then modifies on the right panel.

FIELD 1: "Given that" [context/situation]
- Source: Journey Map dip stage context + persona current situation
- Focus: The specific situation where the problem manifests
- Example: "Given that project managers lack real-time visibility into blocked tasks"

FIELD 2: "How might we help" [persona]
- Source: Persona name + defining characteristic from bio
- Example: "How might we help Sarah, the overwhelmed project manager"

FIELD 3: "do/be/feel/achieve" [immediate goal]
- Source: Journey Map dip stage barriers + persona pains
- MUST address the SPECIFIC dip pain point, not a generic improvement
- Focus on person's pain points and how we might solve this
- Example: "identify and unblock stalled tasks in real-time"

FIELD 4: "So they can" [deeper, broader emotional goal]
- Source: Persona gains (Step 5) + Step 4 desired outcomes
- Focus on emotional/strategic value — the bigger WHY
- Example: "prevent deadline slips and reduce team stress"

Present all suggestions with brief source context (in chat only): "I'm suggesting this 'Given that' because the journey map dip stage shows [specific barrier]..."
```

MULTIPLE HMW STATEMENTS section (per user decision):
```
MULTIPLE HMW STATEMENTS:
- User can create multiple reframed HMW statements (not limited to one)
- Each HMW should focus on different aspects of the problem or different intervention points
- If user creates multiple HMWs, ask which one(s) to carry into Step 8 ideation: "You have 3 reframed challenges. Would you like to ideate on all of them, or focus on one or two?"
```

VALIDATION section (per user decision: traceability AND quality checks):
```
VALIDATION:
Before finalizing, validate each HMW statement:
1. Explicit traceability: Show which persona pain and journey dip stage each component traces to
   - "Given that" traces to → [specific journey context]
   - "Immediate goal" traces to → [specific dip barrier/persona pain]
   - "Deeper goal" traces to → [specific persona gain]
2. Quality checks:
   - Is the immediate goal specific enough to generate concrete ideas?
   - Is the deeper goal motivating enough to justify the effort?
   - Is it open enough to allow multiple solution approaches?
   - Does it focus on the person's pain points as part of the original challenge?
3. Ask user: "Does this HMW feel focused and actionable? Does the immediate goal address the real pain point we identified in the journey map?"
```

Add BOUNDARY: "This step is about REFRAMING the challenge based on research. Do NOT suggest solutions, features, or implementation ideas. The reframed HMW should define the problem space for ideation (Step 8), not prescribe the solution."

Update PRIOR CONTEXT USAGE:
- Reference Journey Map dip (Step 6) HEAVILY — the "Given that" and "immediate goal" fields derive from the dip
- Reference Persona (Step 5) for the persona field and deeper goal
- Reference Step 4 gains for the deeper goal field
- Compare to original Challenge HMW (Step 1) to show evolution
- Light referencing style: weave insights naturally in chat, clean output

**THEN update validation-criteria.ts:**

Add new criteria for Steps 5-7. Keep existing criteria intact. Do NOT modify Steps 1-4 or 8-10.

**Step 5 'persona' -- Add:**
```typescript
{
  name: 'Evidence Traceability',
  description: 'Persona pains and gains trace to Step 4 research themes',
  checkPrompt: 'Do the persona pains and gains trace back to specific Step 4 themes, pains, or gains? Are there any traits that appear invented without research grounding (demographics inferred from context are acceptable)?'
},
{
  name: 'Multi-Persona Coverage',
  description: 'Persona count is appropriate and each represents a distinct segment',
  checkPrompt: 'Is the persona count appropriate (1-3)? If multiple personas exist, does each represent a genuinely distinct user segment with different pains and context, not just demographic variations?'
}
```

**Step 6 'journey-mapping' -- Add:**
```typescript
{
  name: 'Layer Depth',
  description: 'Each stage has specific, evidence-grounded content across all 7 layers',
  checkPrompt: 'Are the 7 layers populated with specific content (not generic "uses system" or "some friction")? Do barriers trace to Step 4 pains? Are touchpoints concrete (specific tools, channels)?'
},
{
  name: 'Emotional Variance',
  description: 'Journey shows clear emotional ups and downs with identifiable dip',
  checkPrompt: 'Does the journey show clear emotional variance (not all neutral or positive)? Is there at least one red (negative) stage? Does the emotional curve reflect persona pains from Step 4?'
},
{
  name: 'Dip Evidence',
  description: 'The dip is evidence-based with clear rationale',
  checkPrompt: 'Is the identified dip the stage with the most negative emotion AND highest barriers? Is the rationale grounded in persona pains and research evidence, not arbitrary?'
}
```

**Step 7 'reframe' -- Add:**
```typescript
{
  name: 'Dip Alignment',
  description: 'Immediate goal addresses the specific journey dip pain point',
  checkPrompt: 'Does the immediate goal ("do/be/feel/achieve" field) directly address the specific barriers and pain at the journey map dip stage? Is it focused on the dip problem, not a generic improvement?'
},
{
  name: 'Evidence Traceability',
  description: 'Each HMW component traces to specific research artifacts',
  checkPrompt: 'Can each component be traced: "Given that" to journey context, "immediate goal" to dip barrier/persona pain, "deeper goal" to persona gain? Is the traceability explicit, not vague?'
},
{
  name: 'Fresh Rewrite',
  description: 'Reframed HMW is substantively different from Step 1 original',
  checkPrompt: 'Is the reframed HMW a genuine fresh rewrite informed by research, not just a rephrasing of the Step 1 original? Does it reflect deeper understanding from Steps 2-6?'
}
```
  </action>
  <verify>
- `npx tsc --noEmit` passes
- `npm run build` succeeds
- Step 5 prompt contains "EVIDENCE TRACEABILITY", "PROACTIVE DRAFTING", "MULTI-PERSONA GUIDANCE", "BOUNDARY"
- Step 6 prompt contains "STAGE CREATION", "7-LAYER POPULATION", "DIP IDENTIFICATION", "CONTEXT REFERENCING", "traffic light", "BOUNDARY"
- Step 7 prompt contains "4-PART HMW BUILDER", "FRESH REWRITE", "MULTIPLE HMW STATEMENTS", "VALIDATION", "Given that", "BOUNDARY"
- Step 5 validation criteria include 'Evidence Traceability' and 'Multi-Persona Coverage' (now 6 total)
- Step 6 validation criteria include 'Layer Depth', 'Emotional Variance', and 'Dip Evidence' (now 7 total)
- Step 7 validation criteria include 'Dip Alignment', 'Evidence Traceability', and 'Fresh Rewrite' (now 7 total)
- Steps 1-4 and 8-10 prompts and validation criteria unchanged
  </verify>
  <done>
Step prompts for Steps 5-7 contain domain-expert-level facilitation guidance: evidence-grounded persona synthesis with multi-persona flow (Step 5), collaborative 7-layer journey mapping with traffic light emotions and dip identification (Step 6), and 4-part HMW builder with traceability validation (Step 7). Each prompt has clear boundaries preventing premature ideation. Validation criteria enforce evidence traceability, emotional variance, and dip alignment.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compilation: `npx tsc --noEmit` passes with zero errors
2. Build: `npm run build` succeeds
3. Schemas updated with user-decided fields for all 3 Definition steps
4. Step prompts contain enriched domain guidance for Steps 5-7
5. Validation criteria enhanced with additional quality checks for Steps 5-7
6. No changes to Steps 1-4 or 8-10 schemas, prompts, or validation criteria
7. Schema types still correctly exported and referenced in stepSchemaMap
</verification>

<success_criteria>
- Persona schema supports motivations, frustrations, gains, day-in-the-life as optional fields
- Journey schema has 7 layers per stage with traffic light emotion enum and dip rationale
- Reframe schema supports 4-part HMW builder with multiple statements and ideation selection
- Step 5 AI proactively drafts persona with evidence traceability and multi-persona guidance
- Step 6 AI uses collaborative stage creation, populates 7 layers, identifies dip with rationale
- Step 7 AI drafts fresh HMW from scratch using 4-part builder with validation
- All 3 steps have boundary instructions preventing premature ideation
- Validation criteria enforce evidence traceability, emotional variance, and dip alignment
</success_criteria>

<output>
After completion, create `.planning/phases/12-definition-steps-5-7/12-01-SUMMARY.md`
</output>
