---
phase: 33-ai-personality
plan: 02
type: execute
wave: 2
depends_on: ["33-01"]
files_modified:
  - src/lib/ai/prompts/step-prompts.ts
autonomous: true

must_haves:
  truths:
    - "All 10 step-specific prompts use consistent sharp consultant personality tone"
    - "Step prompts use direct, active language (not passive or textbook)"
    - "Step prompts reference prior steps with natural bridging language"
    - "Sub-step prompts (8a, 8b, 8c) also use consistent personality"
    - "Boundary redirects use personality-appropriate language (direct but not dismissive)"
  artifacts:
    - path: "src/lib/ai/prompts/step-prompts.ts"
      provides: "Personality-consistent step instructions for all 10 design thinking steps"
      contains: "STEP GOAL"
  key_links:
    - from: "src/lib/ai/prompts/step-prompts.ts"
      to: "src/lib/ai/chat-config.ts"
      via: "getStepSpecificInstructions imported and injected into system prompt"
      pattern: "getStepSpecificInstructions"
    - from: "src/lib/ai/prompts/step-prompts.ts"
      to: "src/lib/ai/soul.md"
      via: "Personality tone must match soul.md definition"
      pattern: "sharp|consultant|direct"
---

<objective>
Update all 10 step-specific prompts and 3 sub-step prompts in step-prompts.ts to use consistent sharp consultant personality tone, matching the soul.md personality established in Plan 01.

Purpose: Ensures AI-04 requirement — consistent personality and tone across all 10 design thinking steps (Orient through Complete phases). Without this, the personality defined in soul.md and chat-config.ts would be undermined by generic step instructions.
Output: Updated step-prompts.ts with personality-consistent language across all steps.
</objective>

<execution_context>
@/Users/michaelchristie/.claude/get-shit-done/workflows/execute-plan.md
@/Users/michaelchristie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-ai-personality/33-01-SUMMARY.md
@src/lib/ai/prompts/step-prompts.ts
@src/lib/ai/soul.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update steps 1-5 prompts with personality tone</name>
  <files>src/lib/ai/prompts/step-prompts.ts</files>
  <action>
Update the step-specific instructions for Steps 1-5 (challenge, stakeholder-mapping, user-research, sense-making, persona) to use sharp consultant personality tone from soul.md.

**What to change in each step:**

For each of the 5 steps, apply these personality updates to the instruction text:

1. **STEP GOAL line** — Keep as-is (functional, not personality). The STEP GOAL is a meta-instruction, not user-facing.

2. **DESIGN THINKING PRINCIPLES** — Rewrite to sound like a consultant sharing hard-won lessons, not a textbook listing rules. Use active voice and direct language.
   - BEFORE: "Avoid solutions disguised as problems"
   - AFTER: "Watch out for solutions disguised as problems — 'We need an app' is a solution, not a problem. Redirect them."
   - BEFORE: "Look for patterns across multiple user research insights"
   - AFTER: "Look for patterns that show up across multiple interviews. If only one person said it, it's an anecdote. If three said it, it's a pattern."

3. **GATHERING REQUIREMENTS** — Make questions feel like a consultant's checklist, not a survey.
   - BEFORE: "What is the core problem or opportunity they're exploring?"
   - AFTER: "Nail down the core problem. What's actually broken? Who feels the pain most?"

4. **BOUNDARY redirects** — Make them firm but friendly, like a consultant keeping a meeting on track.
   - BEFORE: "Do not suggest solutions or features. If ideation starts, redirect: 'Let's make sure we fully understand the problem first.'"
   - AFTER: "If they start jumping to solutions, pull them back: 'I love the energy, but let's nail the problem first. Solutions come in Step 8 — and they'll be way better if we do this right.'"

5. **PRIOR CONTEXT USAGE** — Add personality-flavored bridging language to show how the consultant naturally references prior work.
   - BEFORE: "Reference the Challenge (Step 1) to identify who is mentioned"
   - AFTER: "Pull from the Challenge (Step 1) — who showed up in the HMW? Who else is lurking in this problem space?"

**Critical constraints:**
- Do NOT change the functional content of any step — all methodology, categories, checklists, evidence requirements, and structured output instructions must be preserved
- Do NOT change any [CANVAS_ITEM] or [GRID_ITEM] format instructions
- Do NOT change validation criteria references
- Do NOT add or remove any sections — only update the LANGUAGE within existing sections
- Keep each step's total length roughly the same (within +/- 15% line count)
- The personality updates are about TONE and VOICE, not about changing WHAT the AI does

**Step-specific personality notes:**
- **Challenge (Step 1)**: Consultant energy — "Let's cut through the noise and find the real problem"
- **Stakeholder Mapping (Step 2)**: Strategic advisor — "Who has power here? Who gets forgotten?"
- **User Research (Step 3)**: Curious interviewer — "Let's hear what real people actually experience"
- **Sense Making (Step 4)**: Pattern detective — "I'm looking for what connects these dots"
- **Persona (Step 5)**: Character builder — "Let's bring this user to life with real evidence"
  </action>
  <verify>
- `npx tsc --noEmit src/lib/ai/prompts/step-prompts.ts 2>&1 | head -20` compiles without errors
- All 5 step IDs still present in the instructions record: challenge, stakeholder-mapping, user-research, sense-making, persona
- STEP GOAL lines preserved (grep for "STEP GOAL")
- BOUNDARY sections preserved (grep for "BOUNDARY")
- PRIOR CONTEXT USAGE sections preserved (grep for "PRIOR CONTEXT")
- CANVAS_ITEM format instructions preserved (grep for "CANVAS_ITEM")
- Personality language present (grep for direct language patterns)
  </verify>
  <done>
- Steps 1-5 use sharp consultant personality tone throughout
- All functional content (methodology, checklists, format instructions) preserved
- BOUNDARY redirects are firm but friendly
- PRIOR CONTEXT bridging uses natural consultant language
- File compiles without TypeScript errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Update steps 6-10 and sub-step prompts with personality tone</name>
  <files>src/lib/ai/prompts/step-prompts.ts</files>
  <action>
Update the step-specific instructions for Steps 6-10 (journey-mapping, reframe, ideation, concept, validate) AND the 3 sub-step prompts (mind-mapping, crazy-eights, idea-selection) to use sharp consultant personality tone.

Apply the same personality update patterns from Task 1:

**Step-specific personality notes:**
- **Journey Mapping (Step 6)**: Experience mapper — "Let's walk in their shoes and find where it breaks down"
- **Reframe (Step 7)**: Challenge sharpener — "Time to take everything we've learned and rewrite the question"
- **Ideation (Step 8)**: Creative catalyst — "No judgment zone. Let's go wide before we go deep"
- **Concept (Step 9)**: Pitch architect — "Let's turn your best ideas into something you'd present to a CEO"
- **Validate (Step 10)**: Honest assessor — "Let's look at what you built with clear eyes"

**Sub-step personality notes:**
- **Mind Mapping (8a)**: Cluster explorer — "Let's branch out in every direction"
- **Crazy 8s (8b)**: Energy driver — This step ALREADY has high-energy language ("Quick — first thought!"). Preserve and enhance the existing energy. This is the most naturally personality-aligned sub-step.
- **Idea Selection (8c)**: Selection coach — "Which ideas have legs? Let's find the ones worth developing"

**Same constraints as Task 1:**
- Do NOT change functional content, methodology, [GRID_ITEM] format instructions, evidence requirements, or structured output instructions
- Do NOT change the CONCEPT_GENERATION_PROMPT constant at the bottom of the file (that's a JSON generation prompt, not conversational)
- Keep total length per step roughly the same
- Personality is about TONE and VOICE, not about changing WHAT the AI does
- Preserve all ROW-BY-ROW flow instructions in journey mapping
- Preserve all 4-PART HMW BUILDER structure in reframe
- Preserve all CONCEPT SHEET GENERATION fields and BILLBOARD HERO exercise in concept
- Preserve all SYNTHESIS FORMAT structure in validate

**Special attention for Step 10 (Validate/Synthesis):**
The validate step has a specific dual-structure (narrative intro + structured summary + confidence + next steps). The personality should come through in HOW the AI presents the synthesis, not in changing the structure. Key personality moment: the confidence assessment should feel like an honest consultant giving a straight assessment, not a cheerleader.
  </action>
  <verify>
- `npx tsc --noEmit src/lib/ai/prompts/step-prompts.ts 2>&1 | head -20` compiles without errors
- All step IDs present: journey-mapping, reframe, ideation, concept, validate
- All sub-step IDs present in getIdeationSubStepInstructions: mind-mapping, crazy-eights, idea-selection
- GRID_ITEM format instructions preserved (grep for "GRID_ITEM")
- 4-PART HMW BUILDER preserved (grep for "4-PART HMW")
- CONCEPT_GENERATION_PROMPT unchanged (grep for "CONCEPT_GENERATION_PROMPT")
- SYNTHESIS FORMAT preserved (grep for "SYNTHESIS FORMAT")
- BILLBOARD HERO preserved (grep for "BILLBOARD HERO")
- Personality language present in updated steps
  </verify>
  <done>
- Steps 6-10 and all 3 sub-steps use sharp consultant personality tone
- All functional content preserved (grid items, HMW builder, concept sheets, synthesis format, billboard hero)
- CONCEPT_GENERATION_PROMPT constant unchanged
- Personality is consistent with Steps 1-5 (same voice, same energy)
- File compiles without TypeScript errors
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes for step-prompts.ts
2. All 10 step IDs present in instructions record
3. All 3 sub-step IDs present in getIdeationSubStepInstructions
4. No functional content changed (methodology, format instructions, evidence requirements)
5. CONCEPT_GENERATION_PROMPT constant at bottom of file is unchanged
6. Personality tone is consistent across all steps (same voice, same energy level, same directness)
7. Total file length is within +/- 15% of original (~760 lines original)
</verification>

<success_criteria>
- All 10 steps and 3 sub-steps use consistent sharp consultant personality
- Step prompts sound like an experienced practitioner, not a textbook
- Boundary redirects are firm but friendly
- Prior context references use natural bridging language
- All functional prompt content is preserved exactly
- No TypeScript compilation errors
</success_criteria>

<output>
After completion, create `.planning/phases/33-ai-personality/33-02-SUMMARY.md`
</output>
