---
phase: 36-olive-theme-rollout
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/canvas/canvas-toolbar.tsx
  - src/components/canvas/selection-toolbar.tsx
  - src/components/canvas/react-flow-canvas.tsx
  - src/components/canvas/post-it-node.tsx
  - src/components/canvas/group-node.tsx
  - src/components/canvas/drawing-image-node.tsx
  - src/components/canvas/color-picker.tsx
  - src/components/canvas/concentric-rings-overlay.tsx
  - src/components/canvas/canvas-loading-skeleton.tsx
  - src/components/canvas/add-column-button.tsx
  - src/components/canvas/editable-column-header.tsx
  - src/components/canvas/concept-card-node.tsx
autonomous: true

must_haves:
  truths:
    - "Canvas toolbars (bottom bar, selection bar, zoom controls) use olive backgrounds and olive icon colors instead of bg-white/dark:bg-zinc-800 and text-gray-*"
    - "Post-it node text, selection rings, resize handles, confirm/skip buttons, and cluster labels use olive tones instead of gray-*/blue-*"
    - "Canvas context menu and color picker use olive-toned backgrounds and borders instead of bg-white/dark:bg-zinc-800 and border-gray-*"
    - "Concentric rings overlay labels use olive instead of gray-500/bg-white"
    - "Group nodes use olive borders and backgrounds instead of gray-100/zinc-800"
    - "Drawing image nodes use olive hover ring instead of blue-400"
    - "Concept card billboard section uses olive accent instead of blue-*"
  artifacts:
    - path: "src/components/canvas/canvas-toolbar.tsx"
      provides: "Olive-themed canvas toolbar"
    - path: "src/components/canvas/post-it-node.tsx"
      provides: "Post-it nodes with olive text, olive selection rings, olive buttons"
    - path: "src/components/canvas/react-flow-canvas.tsx"
      provides: "Zoom controls and context menu with olive theme"
    - path: "src/components/canvas/concept-card-node.tsx"
      provides: "Concept card with olive billboard section"
  key_links:
    - from: "src/components/canvas/canvas-toolbar.tsx"
      to: "globals.css"
      via: "bg-card/bg-popover replacing bg-white/dark:bg-zinc-800"
      pattern: "bg-card|bg-popover"
    - from: "src/components/canvas/post-it-node.tsx"
      to: "globals.css"
      via: "olive ring colors replacing blue-400/blue-500"
      pattern: "ring-olive|text-neutral-olive"
---

<objective>
Replace all hardcoded gray/blue/white/zinc Tailwind classes in canvas surface components (toolbars, nodes, overlays, context menus) with olive theme tokens or neutral-olive/olive utility classes.

Purpose: Canvas surfaces must match the olive aesthetic in both light and dark modes — no default Tailwind grays, blues, or zinc showing through on toolbars, nodes, or overlays.

Output: 12 canvas component files updated with consistent olive theming.
</objective>

<execution_context>
@/Users/michaelchristie/.claude/get-shit-done/workflows/execute-plan.md
@/Users/michaelchristie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Theme canvas toolbars, zoom controls, and context menus</name>
  <files>
    src/components/canvas/canvas-toolbar.tsx
    src/components/canvas/selection-toolbar.tsx
    src/components/canvas/react-flow-canvas.tsx
    src/components/canvas/color-picker.tsx
  </files>
  <action>
Replace all hardcoded color classes in canvas toolbar/control surfaces:

**canvas-toolbar.tsx (~16 replacements):**
- Main toolbar container: `bg-white dark:bg-zinc-800` → `bg-card`
- Borders: `border-gray-200 dark:border-zinc-700` → `border-border`
- Icon text: `text-gray-600 dark:text-gray-400` → `text-muted-foreground`
- Hover states: `hover:bg-gray-100 dark:hover:bg-zinc-700` → `hover:bg-accent`
- Hover text: `hover:text-gray-800 dark:hover:text-gray-200` → `hover:text-accent-foreground`
- Active state: `bg-gray-100 dark:bg-zinc-700 text-gray-800 dark:text-gray-200` → `bg-accent text-accent-foreground`
- Disabled: `text-gray-400 dark:text-gray-600` → `text-muted-foreground/50` or `opacity-40` (already has opacity-40, just fix the text color)
- Dividers: `bg-gray-200 dark:bg-zinc-600` → `bg-border`
- Dropdown label: `text-gray-500` → `text-muted-foreground`
- The `blue` color dot in COLOR_DOTS — keep as `bg-blue-300` since this is the actual post-it color, not a theme element

**selection-toolbar.tsx (~6 replacements):**
- Container: `bg-white dark:bg-zinc-800` → `bg-card`
- Borders: `border-gray-200 dark:border-zinc-700` → `border-border`
- Icon text: `text-gray-600 dark:text-gray-400` → `text-muted-foreground`
- Hover: `hover:bg-gray-100 dark:hover:bg-zinc-700` → `hover:bg-accent`
- Hover text: `hover:text-gray-800 dark:hover:text-gray-200` → `hover:text-accent-foreground`
- Dividers: `bg-gray-200 dark:bg-zinc-600` → `bg-border`
- Count label: `text-gray-400 dark:text-gray-500` → `text-muted-foreground`

**react-flow-canvas.tsx (~9 replacements):**
- Zoom controls container: `bg-white dark:bg-zinc-800` → `bg-card`
- Zoom control borders: `border-gray-200 dark:border-zinc-700` → `border-border`
- Zoom icons: `text-gray-600 dark:text-gray-400` → `text-muted-foreground`
- Zoom hover: `hover:bg-gray-100 dark:hover:bg-zinc-700` → `hover:bg-accent`
- Zoom hover text: `hover:text-gray-800 dark:hover:text-gray-200` → `hover:text-accent-foreground`
- Context menu: `bg-white dark:bg-zinc-800` → `bg-popover`
- Context menu border: `border-gray-200 dark:border-zinc-700` → `border-border`
- Context menu hover: `hover:bg-gray-100 dark:hover:bg-zinc-700` → `hover:bg-accent`
- Empty state text: `text-gray-400 dark:text-gray-600` → `text-muted-foreground`

**color-picker.tsx (~3 replacements):**
- Container: `bg-white dark:bg-zinc-800` → `bg-popover`
- Border: `border-gray-200 dark:border-zinc-700` → `border-border`
- Selected swatch border: `border-gray-800 dark:border-white` → `border-foreground`
- Unselected border: `border-gray-300 dark:border-zinc-600` → `border-border`
- Ring: `ring-gray-400 dark:ring-gray-500` → `ring-ring`
  </action>
  <verify>
Run `grep -n 'bg-white\|bg-zinc\|bg-gray\|text-gray\|border-gray\|border-zinc' src/components/canvas/canvas-toolbar.tsx src/components/canvas/selection-toolbar.tsx src/components/canvas/react-flow-canvas.tsx src/components/canvas/color-picker.tsx` — should return zero matches (except post-it COLOR_DOTS which intentionally use non-olive post-it colors like bg-blue-300).
  </verify>
  <done>All canvas toolbars, zoom controls, context menus, and color picker use olive theme tokens. No gray/zinc/white classes remain except intentional post-it colors.</done>
</task>

<task type="auto">
  <name>Task 2: Theme canvas nodes and overlays</name>
  <files>
    src/components/canvas/post-it-node.tsx
    src/components/canvas/group-node.tsx
    src/components/canvas/drawing-image-node.tsx
    src/components/canvas/concentric-rings-overlay.tsx
    src/components/canvas/canvas-loading-skeleton.tsx
    src/components/canvas/add-column-button.tsx
    src/components/canvas/editable-column-header.tsx
    src/components/canvas/concept-card-node.tsx
  </files>
  <action>
Replace hardcoded color classes in canvas node and overlay components:

**post-it-node.tsx (~12 replacements):**
- Text: `text-gray-800 dark:text-gray-900` → `text-neutral-olive-800 dark:text-neutral-olive-900` (post-it text should be dark on the colored background)
- Selection ring: `ring-blue-500`, `ring-blue-400`, `ring-blue-400/40` → `ring-olive-600`, `ring-olive-500`, `ring-olive-500/40` (use the olive-* scale for active/selection accents since they need green tint visibility)
- Preview ring: `ring-blue-400` → `ring-olive-500`
- Preview reason: `text-gray-500` → `text-neutral-olive-500`
- Confirm button: `bg-blue-500 text-white hover:bg-blue-600` → `bg-olive-600 text-white hover:bg-olive-700`
- Skip button: `bg-gray-200 dark:bg-gray-300 text-gray-700 dark:text-gray-800 hover:bg-gray-300 dark:hover:bg-gray-400` → `bg-neutral-olive-200 dark:bg-neutral-olive-300 text-neutral-olive-700 dark:text-neutral-olive-800 hover:bg-neutral-olive-300 dark:hover:bg-neutral-olive-400`
- Resize handles: `!bg-blue-500 !border-blue-500` → `!bg-olive-600 !border-olive-600`
- Resize line: `!border-blue-400/50` → `!border-olive-500/50`
- Cluster label: `text-gray-500 dark:text-gray-600` → `text-neutral-olive-500 dark:text-neutral-olive-600`
- Keep the post-it COLOR_CLASSES (yellow, pink, blue, green, orange, red) — those are intentional post-it background colors, NOT theme colors

**group-node.tsx (~2 replacements):**
- Background: `bg-gray-100/70 dark:bg-zinc-800/70` → `bg-neutral-olive-100/70 dark:bg-neutral-olive-800/70`
- Border: `border-gray-300 dark:border-zinc-600` → `border-neutral-olive-300 dark:border-neutral-olive-600`
- Resize handles: `!bg-blue-500 !border-blue-500` → `!bg-olive-600 !border-olive-600`

**drawing-image-node.tsx (~2 replacements):**
- Background: `bg-white dark:bg-zinc-800` → `bg-card`
- Hover ring: `hover:ring-blue-400` → `hover:ring-olive-500`
- Pencil icon: `text-gray-600 dark:text-gray-400` → `text-muted-foreground`

**concentric-rings-overlay.tsx (~2 replacements):**
- Label text: `text-gray-500 dark:text-gray-400` → `text-neutral-olive-500 dark:text-neutral-olive-400`
- Label background: `bg-white/80 dark:bg-zinc-800/80` → `bg-neutral-olive-50/80 dark:bg-neutral-olive-900/80`

**canvas-loading-skeleton.tsx:**
- Text: `text-gray-500` → `text-muted-foreground`

**add-column-button.tsx:**
- Text: `text-gray-400 hover:text-gray-600 hover:bg-gray-100` → `text-neutral-olive-400 hover:text-neutral-olive-600 hover:bg-neutral-olive-100`

**editable-column-header.tsx:**
- Input: `border-blue-500 bg-white/90 dark:bg-zinc-800/90 dark:text-gray-200` → `border-olive-600 bg-neutral-olive-50/90 dark:bg-neutral-olive-800/90 dark:text-neutral-olive-200`

**concept-card-node.tsx (~7 replacements):**
- Billboard section: `border-blue-500/30 bg-blue-50 dark:bg-blue-950/20` → `border-olive-500/30 bg-olive-50 dark:bg-olive-950/20`
- Billboard icon: `bg-blue-500` → `bg-olive-600`
- Billboard heading: `text-blue-900 dark:text-blue-100` → `text-olive-900 dark:text-olive-100`
- Billboard textarea: `border-blue-500/30 bg-white text-blue-800 focus:border-blue-500 dark:bg-blue-950/40 dark:text-blue-200` → `border-olive-500/30 bg-neutral-olive-50 text-olive-800 focus:border-olive-500 dark:bg-olive-950/40 dark:text-olive-200`
  </action>
  <verify>
Run `grep -n 'text-gray\|bg-gray\|border-gray\|bg-zinc\|border-zinc\|bg-white\|ring-blue\|bg-blue\|text-blue\|border-blue' src/components/canvas/post-it-node.tsx src/components/canvas/group-node.tsx src/components/canvas/drawing-image-node.tsx src/components/canvas/concentric-rings-overlay.tsx src/components/canvas/canvas-loading-skeleton.tsx src/components/canvas/add-column-button.tsx src/components/canvas/editable-column-header.tsx src/components/canvas/concept-card-node.tsx` — should return zero matches (except the intentional post-it COLOR_CLASSES in post-it-node.tsx which use bg-blue-100/bg-blue-200 for the blue post-it color).
  </verify>
  <done>All canvas nodes and overlays use olive theme tokens. Post-it accent colors (rings, buttons, handles) use olive-* scale. Node text uses neutral-olive-*. Only post-it background COLOR_CLASSES retain non-olive colors (intentional).</done>
</task>

</tasks>

<verification>
1. `grep -rn 'bg-white\|bg-zinc\|bg-gray\|text-gray\|border-gray\|border-zinc\|ring-blue\|bg-blue\|text-blue\|border-blue' src/components/canvas/` returns ONLY the intentional post-it COLOR_CLASSES (bg-blue-100, bg-blue-200, bg-blue-300 for blue post-its) and post-it COLOR_DOTS (bg-blue-300)
2. `npm run build` succeeds without errors
3. Light mode: canvas toolbars, post-it selection rings, concept card billboards all show olive tones
4. Dark mode: canvas surfaces show dark olive — no zinc or default dark backgrounds visible
</verification>

<success_criteria>
All canvas surface components use olive theme tokens. Zero non-olive hardcoded classes remain except intentional post-it background colors (yellow, pink, blue, green, orange, red are the actual sticky note colors — these are semantic, not theme).
</success_criteria>

<output>
After completion, create `.planning/phases/36-olive-theme-rollout/36-02-SUMMARY.md`
</output>
