---
phase: 46-dashboard-routing
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/dashboard/completed-workshop-card.tsx
  - src/app/dashboard/page.tsx
autonomous: true
requirements: [DASH-01, DASH-02]

must_haves:
  truths:
    - "User clicks a completed workshop card on the dashboard and lands on /workshop/[id]/outputs"
    - "User clicks the CTA button for a completed workshop and lands on /workshop/[id]/outputs"
    - "User clicks an in-progress workshop card and resumes at /workshop/[id]/step/[N], unchanged"
    - "CTA section text for completed workshops says 'View Outputs' (not 'Review')"
  artifacts:
    - path: "src/components/dashboard/completed-workshop-card.tsx"
      provides: "Completed workshop card linking to outputs page"
      contains: "/outputs"
    - path: "src/app/dashboard/page.tsx"
      provides: "Dashboard CTA routing to outputs for completed workshops"
      contains: "/outputs"
  key_links:
    - from: "src/components/dashboard/completed-workshop-card.tsx"
      to: "/workshop/[sessionId]/outputs"
      via: "Link href"
      pattern: "href=.*outputs"
    - from: "src/app/dashboard/page.tsx"
      to: "/workshop/[sessionId]/outputs"
      via: "CTA href for completed workshops"
      pattern: "href=.*outputs"
---

<objective>
Route completed workshops to the outputs page from the dashboard, while preserving in-progress resume behavior.

Purpose: Users who have completed a workshop should land on the outputs page (where they can view/download their PRD and Tech Specs), not the Step 10 results view. In-progress workshops continue to resume at the last active step.

Output: Updated dashboard routing — completed workshops → `/workshop/[id]/outputs`, in-progress → `/workshop/[id]/step/[N]` (unchanged).
</objective>

<execution_context>
@/Users/michaelchristie/.claude/get-shit-done/workflows/execute-plan.md
@/Users/michaelchristie/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/dashboard/completed-workshop-card.tsx
@src/app/dashboard/page.tsx
@src/components/dashboard/workshop-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Route completed workshop cards to outputs page</name>
  <files>src/components/dashboard/completed-workshop-card.tsx</files>
  <action>
In `completed-workshop-card.tsx`, change the two Link hrefs that currently point to `/workshop/${sessionId}/results` to instead point to `/workshop/${sessionId}/outputs`:

1. Line ~145: `<Link href={'/workshop/${sessionId}/results'}>` (wraps CardContent) → change to `/workshop/${sessionId}/outputs`
2. Line ~212: `<Link href={'/workshop/${sessionId}/results'}>` (wraps "View Results" button in CardFooter) → change to `/workshop/${sessionId}/outputs`
3. Update the footer button label from "View Results" to "View Outputs" to match the destination

No other changes to the component. The card structure, rename functionality, prototype link, synthesis display — all remain unchanged.
  </action>
  <verify>
Run `grep -n 'outputs' src/components/dashboard/completed-workshop-card.tsx` — should show 2 Link hrefs pointing to `/outputs`.
Run `grep -n 'results' src/components/dashboard/completed-workshop-card.tsx` — should return 0 matches (no remaining `/results` links).
Run `npx next build 2>&1 | tail -5` or `npx tsc --noEmit` — no type errors.
  </verify>
  <done>Clicking a completed workshop card navigates to /workshop/[id]/outputs, and the footer button reads "View Outputs".</done>
</task>

<task type="auto">
  <name>Task 2: Route dashboard CTA to outputs page for completed workshops</name>
  <files>src/app/dashboard/page.tsx</files>
  <action>
In `src/app/dashboard/page.tsx`, update the CTA section (around lines 243-269) that handles the primary call-to-action for completed workshops:

1. Line ~256: Change the CTA href from `/workshop/${ctaWorkshop.sessionId}/results` to `/workshop/${ctaWorkshop.sessionId}/outputs` — only for the `ctaIsCompleted` branch (the ternary already handles this: `ctaIsCompleted ? ... : ...`)
2. Line ~248: Update the CTA heading text from `'Review your workshop'` to `'View your outputs'` for the completed case
3. Line ~258: Update the CTA button text from `'Review'` to `'View Outputs'` — the ternary `{ctaIsCompleted ? 'Review' : 'Continue'}` becomes `{ctaIsCompleted ? 'View Outputs' : 'Continue'}`

The in-progress path (`/workshop/${ctaWorkshop.sessionId}/step/${ctaWorkshop.currentStep}`) MUST remain unchanged — this preserves DASH-02 resume behavior.

No structural changes to the page — only the 3 string/href updates in the completed CTA branch.
  </action>
  <verify>
Run `grep -n 'outputs' src/app/dashboard/page.tsx` — should show the CTA href pointing to `/outputs`.
Run `grep 'View Outputs' src/app/dashboard/page.tsx` — should match the CTA button text.
Verify in-progress path is unchanged: `grep 'step/${ctaWorkshop.currentStep}' src/app/dashboard/page.tsx` — should match.
Run `npx tsc --noEmit` — no type errors.
  </verify>
  <done>Dashboard CTA for completed workshops navigates to /workshop/[id]/outputs with "View Outputs" label, while in-progress workshops continue routing to resume step position.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes — no type errors introduced
2. All completed workshop links point to `/outputs`, not `/results`:
   - `grep -rn '/results' src/components/dashboard/completed-workshop-card.tsx` returns nothing
   - `grep -rn 'outputs' src/components/dashboard/completed-workshop-card.tsx` shows 2 link targets
   - `grep 'outputs' src/app/dashboard/page.tsx` shows CTA href
3. In-progress workshop links remain at `/step/${currentStep}`:
   - `grep 'step/' src/components/dashboard/workshop-card.tsx` still shows `/step/${currentStep}`
   - `grep 'step/' src/app/dashboard/page.tsx` still shows `/step/${ctaWorkshop.currentStep}`
4. `npm run build` succeeds
</verification>

<success_criteria>
- Completed workshop card navigates to `/workshop/[id]/outputs`
- Dashboard CTA for completed workshops navigates to `/workshop/[id]/outputs`
- In-progress workshop card navigates to `/workshop/[id]/step/[N]` (unchanged)
- Dashboard CTA for in-progress workshops navigates to resume position (unchanged)
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/46-dashboard-routing/46-01-SUMMARY.md`
</output>
